<ion-content class="ion-padding">
  <!-- have a login form centered in the middle of the screen. -->
  <div slot="fixed" class="page-fixed">
    <div class="form-card">

      <div class="w-full">
        <div class="flex w-full">
          <ion-button fill="clear" size="small" (click)="goBack()">
            <ion-icon slot="icon-only" name="arrow-back-outline" color="dark"></ion-icon>
          </ion-button>
        </div>
        <div class="ion-padding-bottom-8 peachy-logo">
          <ion-img src="assets/img/peachy.png"></ion-img>
        </div>
      </div>

      <ng-container *ngIf="stage === 1">
        <div>
          <div class="form-title">We all Forget ðŸ˜Š</div>
          <!-- <div class="form-subtitle ion-margin-top-4">We all forget something</div> -->
        </div>

        <form class="w-full" mode="md" autocomplete="off" #myForm="ngForm" [formGroup]="userForgetPasswordForm">
          <div class="w-full">
            <ion-input class="custom" name="username" formControlName="username" label="Email Address" type="email" label-placement="floating" fill="outline" placeholder="Enter Email" errorText=""></ion-input>
          </div>
        </form>

        <ion-button [disabled]="userForgetPasswordForm.invalid || isLoading" (click)="proceed()" color="brand" expand="block" class="w-full">
          <ion-label>Proceed</ion-label>
          <ion-icon *ngIf="!isLoading" slot="end" name="arrow-forward-outline"></ion-icon>
          <ion-spinner class="ion-margin-x-8" *ngIf="isLoading" slot="end"></ion-spinner>
        </ion-button>

        <div class="form-footer">Do you remember? <a (click)="goTo('login')">Log in</a></div>
      </ng-container>
      <ng-container *ngIf="stage === 2">

        <div class="ion-padding-bottom-8 peachy-logo">
          <ion-img src="assets/icon/verify-email.png"></ion-img>
        </div>

        <div>
          <div class="form-title">Verify Email</div>
          <div class="form-subtitle ion-margin-top-4">We have sent you a verification link to your registered email to reset your password</div>
        </div>

        <ion-button (click)="proceed()" color="brand" expand="block" class="w-full">
          <ion-label>Okay</ion-label>
          <ion-icon slot="end" name="arrow-forward-outline"></ion-icon>
        </ion-button>
      </ng-container>
    </div>
  </div>
</ion-content>
